(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{28:function(e,a,t){e.exports=t(45)},33:function(e,a,t){},39:function(e,a,t){},45:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(22),c=t.n(r),o=(t(33),t(7)),s=t(8),i=t(10),p=t(9),m=t(11),u=t(47),d=t(4),E=t(46),h=t(6),y=Object(h.b)(function(e){return Object(d.a)({},e)})(function(e){return l.a.createElement("div",{id:"appNavbar"},l.a.createElement("div",{className:"navbar-fixed"},l.a.createElement("nav",{className:"nav green darken-1"},l.a.createElement("div",{className:"nav-wrapper container"},l.a.createElement("div",{className:"row"},l.a.createElement(E.a,{to:"/",className:"brand-logo"},"Aspire"),l.a.createElement("ul",{id:"nav-mobile",className:"right hide-on-med-and-down"},e.isLoanApproved?l.a.createElement("li",null," ",l.a.createElement("button",{className:"btn greed darken-2",disabled:!0},"Loan Approved")):null,l.a.createElement("li",null,l.a.createElement("a",{href:"/applyloan"},l.a.createElement("i",{className:"medium material-icons"},"card_membership"))),l.a.createElement("li",null,l.a.createElement("a",{href:"/"},l.a.createElement("i",{className:"medium material-icons"},"account_circle")))))),e.progress?l.a.createElement("div",{className:"progress red"},l.a.createElement("div",{className:"indeterminate"})):null)))}),v=(t(39),t(13)),b=t(25),f=t(19),N=t.n(f),g=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(t=Object(i.a)(this,(e=Object(p.a)(a)).call.apply(e,[this].concat(l)))).loanValueChange=function(e){var a=Object(v.a)({},e.target.id,parseInt(e.target.value));t.props.updateRepayment(a),t.props.totalPayment()},t.calculateRepayment=function(){var e=t.props,a=e.loan,n=e.interest,l=e.weeks,r=a+a*n,c=[];return b.range(l).map(function(e){var a=r/l;return c[e]=a*e,{week:e,weekpayment:a,outstandingWithInterest:r}}).map(function(e,a){return e.outstandingWithInterest=e.outstandingWithInterest-c[a],e.paid=t.props.paid.indexOf(a)>-1,e.toBePaid=t.props.toBePaid===a,e})},t.applyLoan=function(e){e.preventDefault(),t.props.loader(!0),setTimeout(function(){N.a.toast({html:"Congratulations, Your Loan is Approved. Redirecting to payment page.",classes:"rounded",displayLength:3e3}),t.props.loader(!1)},2e3),setTimeout(function(){t.props.history.push("/repayschedule")},3e3),t.props.setLoanApproved(!0),t.props.updateRepaySchedule(t.calculateRepayment())},t.interestPerc=function(){return 100*t.props.interest},t.handleRepaymentClick=function(){t.props.updateRepaySchedule(t.calculateRepayment()),t.props.history.push("/repayschedule")},t}return Object(m.a)(a,e),Object(s.a)(a,[{key:"componentDidMount",value:function(){this.props.updateRepayment(this.props),this.props.totalPayment()}},{key:"render",value:function(){var e=this.props,a=e.loan,t=e.weeks,n=e.repayment;return l.a.createElement("div",{className:"row",id:"loanApplication"},l.a.createElement("div",{className:"col s8"},l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-stacked"},l.a.createElement("div",{className:"card-content"},this.props.isLoanApproved?l.a.createElement("p",null,"Dear Customer, your loan has been approved already. Please go to repayment schedule to pay loan weekly."):l.a.createElement("form",{onSubmit:this.applyLoan},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col s12"},l.a.createElement("h6",null,"How much do you need? (S$) ",l.a.createElement("span",{className:"right"},a)),l.a.createElement("p",{className:"range-field"},l.a.createElement("input",{type:"range",id:"loan",min:"1000",max:"100000",value:a,onChange:this.loanValueChange}))),l.a.createElement("div",{className:"col s12"},l.a.createElement("h6",null,"Loan Tenure (weeks) ",l.a.createElement("span",{className:"right"},t)),l.a.createElement("p",{className:"range-field"},l.a.createElement("input",{type:"range",id:"weeks",min:"1",max:"100",value:t,onChange:this.loanValueChange}))),l.a.createElement("div",{className:"col s12"},l.a.createElement("button",{className:"btn right",type:"submit"},"Submit",l.a.createElement("i",{className:"material-icons right"}))))))))),l.a.createElement("div",{className:"col s4"},l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-content"},l.a.createElement("label",null,"Overall interest rate(p.w) ",l.a.createElement("span",{className:"right"},this.interestPerc(),"%")),l.a.createElement("hr",null),l.a.createElement("label",null,"Your Weekly repayment including interest"),l.a.createElement("h6",null,"S$ ",n),l.a.createElement("label",null,"Total Amount to be paid including interest."),l.a.createElement("h6",null,"S$ ",this.props.totalToBePaidWithInterest)),l.a.createElement("div",{className:"card-action"},l.a.createElement("div",{className:"row"},l.a.createElement("button",{className:"btn green",onClick:this.handleRepaymentClick},"View Repayment Schedule"))))))}}]),a}(n.Component),O=Object(h.b)(function(e){return Object(d.a)({},e)},function(e){return{updateRepayment:function(a){e({type:"UPDATE_REPAYMENT",payload:a})},setLoanApproved:function(a){e({type:"LOAN_APPROVED",payload:a})},totalPayment:function(){e({type:"UPDATE_TOTAL"})},updateRepaySchedule:function(a){e({type:"REPAY_SCHEDULE",payload:a})},loader:function(a){e({type:"LOADER",payload:a})}}})(g);function w(){return l.a.createElement("div",null,l.a.createElement("div",{className:"col s12"},l.a.createElement("h4",{className:"header"},"Hello, Guest"),l.a.createElement("div",{className:"card horizontal"},l.a.createElement("div",{className:"card-stacked"},l.a.createElement("div",{className:"card-content"},l.a.createElement("p",null,"Welcome to Aspire, we can help you to apply loan. Please click on below link.")),l.a.createElement("div",{className:"card-action"},l.a.createElement(E.a,{to:"/applyloan"},"Apply Loan"))))))}var k=t(49),A=t(48),P=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(t=Object(i.a)(this,(e=Object(p.a)(a)).call.apply(e,[this].concat(r)))).handleRepayment=function(e){t.props.loader(!0),t.props.updatePaidWeeks(e),setTimeout(function(){var e=t.props.repayWeeks.map(function(e,a){return e.paid=t.props.paid.indexOf(a)>-1,e.toBePaid=t.props.toBePaid===a,e});t.props.updateRepaySchedule(e),t.props.loader(!1)},1e3)},t.tablerow=function(){return t.props.repayWeeks.map(function(e,a){return l.a.createElement("tr",{key:a},l.a.createElement("td",null,e.week+1),l.a.createElement("td",null,e.outstandingWithInterest),l.a.createElement("td",null,e.weekpayment),t.props.isLoanApproved?l.a.createElement("td",null,e.paid?l.a.createElement("button",{className:"btn orange",disabled:!0},"Paid"):l.a.createElement("button",{className:"btn orange",onClick:function(){return t.handleRepayment(a)},disabled:!e.toBePaid},"Repay")):null)})},t}return Object(m.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{id:"repayschedule"},this.props.repayWeeks.length>0?l.a.createElement("div",{className:"row"},this.props.isLoanApproved?null:l.a.createElement("div",{className:"col s12"},l.a.createElement(E.a,{to:"/applyloan"},l.a.createElement("button",{className:"btn orange"},"Back"))),l.a.createElement("div",{className:"col s12"},l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Week"),l.a.createElement("th",null,"Outstanding with interest"),l.a.createElement("th",null,"Weekly Repayment including interest"),this.props.isLoanApproved?l.a.createElement("th",null,"Repay"):null)),l.a.createElement("tbody",null,this.tablerow())))):l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-content"},"Hello, Guest. Currently you don't have any loans to repay. Please go through link to apply new loan.",l.a.createElement("p",null,l.a.createElement(E.a,{to:"/applyloan"},"Apply Loan")))))}}]),a}(n.Component),j=Object(h.b)(function(e){return Object(d.a)({},e)},function(e){return{updatePaidWeeks:function(a){e({type:"UPDATE_PAID_WEEKS",payload:a})},updateRepaySchedule:function(a){e({type:"REPAY_SCHEDULE",payload:a})},loader:function(a){e({type:"LOADER",payload:a})}}})(P);function R(){return l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col s12"},l.a.createElement(k.a,null,l.a.createElement(A.a,{exact:!0,path:"/",component:w}),l.a.createElement(A.a,{path:"/applyloan",component:O}),l.a.createElement(A.a,{path:"/repayschedule",component:j}))))}var L=function(e){function a(){return Object(o.a)(this,a),Object(i.a)(this,Object(p.a)(a).apply(this,arguments))}return Object(m.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){return l.a.createElement(u.a,null,l.a.createElement("div",{className:"App"},l.a.createElement(y,null),l.a.createElement("div",{className:"container",id:"mainSection"},l.a.createElement(R,null))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var W=t(14),T=t(27),D={loan:1e3,weeks:1,repayment:1e3,interest:.02,repayWeeks:[],isLoanApproved:!1,totalToBePaidWithInterest:0,toBePaid:0,paid:[],progress:!1},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,a=arguments.length>1?arguments[1]:void 0,t=a.type,n=a.payload;switch(t){case"UPDATE_REPAYMENT":var l=Object(d.a)({},e,n),r=(l.loan+l.loan*l.interest)/l.weeks;return Object(d.a)({},l,{repayment:r});case"REPAY_SCHEDULE":return Object(d.a)({},e,{repayWeeks:Object(T.a)(n)});case"LOAN_APPROVED":return Object(d.a)({},e,{isLoanApproved:n});case"UPDATE_PAID_WEEKS":var c=Object(d.a)({},e);return c.paid.push(n),c.toBePaid+=1,Object(d.a)({},e,c);case"LOADER":return Object(d.a)({},e,{progress:n});case"UPDATE_TOTAL":var o=e.loan+e.loan*e.interest;return Object(d.a)({},e,{totalToBePaidWithInterest:o});default:return Object(d.a)({},e,n)}},S=Object(W.b)(C);c.a.render(l.a.createElement(h.a,{store:S},l.a.createElement(L,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[28,2,1]]]);
//# sourceMappingURL=main.015f328a.chunk.js.map